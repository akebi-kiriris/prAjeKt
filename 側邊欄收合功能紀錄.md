# 側邊欄收合與主內容延伸功能實作紀錄

## 需求說明

當使用者點擊漢堡按鈕時，需收起側邊欄，並讓主內容畫面自動向左延伸至整個畫面底部。

---

## 修改檔案
- frontend/src/App.vue

---

## 主要修改內容

### 1. 動態 Grid 布局

將原本固定的 grid-cols 設定，改為根據 `sidebarOpen` 狀態動態調整：

```vue
<template>
  <div id="app" class="min-h-screen" :class="isAuthenticated ? 'bg-gray-100 grid grid-rows-[4rem_1fr]' : ''" :style="isAuthenticated ? gridTemplateColumns : {}">
    <!-- Header -->
    <Header v-if="isAuthenticated" :sidebarOpen="sidebarOpen" @logout="handleLogout" @toggle-sidebar="sidebarOpen = !sidebarOpen" class="row-start-1 row-end-2 col-start-1 col-end-3 z-50" />
    <!-- Sidebar -->
    <Sidebar v-if="isAuthenticated" :open="sidebarOpen" @close="sidebarOpen = false" class="row-start-2 row-end-3 col-start-1 col-end-2 z-40" />
    <!-- Main Content -->
    <main :class="isAuthenticated ? 'row-start-2 row-end-3 col-start-2 col-end-3 min-h-0' : 'w-full min-h-screen'" :style="sidebarOpen ? '' : 'background: #f3f4f6;'">
      <router-view />
    </main>
  </div>
</template>
```

### 2. gridTemplateColumns 計算屬性

將 `gridTemplateColumns` 設為 computed，根據側邊欄開關狀態切換 grid 列寬：

```js
const gridTemplateColumns = computed(() => {
  return sidebarOpen.value
    ? { gridTemplateColumns: '16rem 1fr' }
    : { gridTemplateColumns: '0 1fr' };
});
```

### 3. 修正 :style 綁定語法

Vue 的 `:style` 綁定需為物件格式，否則會報錯。原本傳遞字串，已修正為物件。

---

## 實作邏輯說明

- 當 `sidebarOpen` 為 `true` 時，grid 兩欄寬度為 `16rem 1fr`，主內容正常顯示。
- 當 `sidebarOpen` 為 `false` 時，grid 第一欄寬度為 `0`，主內容自動延伸填滿整個畫面。
- 搭配 Sidebar 元件的 `-translate-x-full` 過渡，收合時有滑動動畫，體驗更佳。
- 所有狀態切換皆由 Header 的漢堡按鈕觸發，並透過 props 傳遞與事件溝通。

---

## 結果

現在點擊漢堡按鈕即可收合側邊欄，主內容會自動延伸至左側，符合現代響應式設計需求。
